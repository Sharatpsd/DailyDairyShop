{% extends 'app/base.html' %}
{% load static %}

{% block title %}Home{% endblock title %}

{% block banner-slider %}
<!-- Professional Daraz-like Banner Slider -->
<div id="bannerCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="7000" data-bs-pause="hover">
    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
    </div>

    <div class="carousel-inner">
        <!-- Slide 1 -->
        <div class="carousel-item active">
            <img src="{% static 'app/images/banner/b1.jpg' %}" class="d-block w-100 carousel-image" alt="Fresh Dairy Banner">
            <div class="carousel-caption d-none d-md-block">
                <div class="caption-content">
                    <h1 class="display-4 fw-bold text-white mb-3 animate-fade-in">Fresh Dairy Delivered</h1>
                    <p class="lead text-white mb-4 opacity-90">Premium milk, yogurt, and cheese straight from Bangladeshi farms to your door.</p>
                    <a href="#products" class="btn btn-primary btn-lg px-4 py-2">Shop Now</a>
                </div>
            </div>
        </div>
        <!-- Slide 2 -->
        <div class="carousel-item">
            <img src="{% static 'app/images/banner/b2.jpg' %}" class="d-block w-100 carousel-image" alt="Healthy Choices Banner">
            <div class="carousel-caption d-none d-md-block">
                <div class="caption-content">
                    <h1 class="display-4 fw-bold text-white mb-3 animate-fade-in">Healthy & Natural</h1>
                    <p class="lead text-white mb-4 opacity-90">Organic dairy products for a healthier you and your family.</p>
                    <a href="#products" class="btn btn-success btn-lg px-4 py-2">Explore Range</a>
                </div>
            </div>
        </div>
        <!-- Slide 3 -->
        <div class="carousel-item">
            <img src="{% static 'app/images/banner/b3.jpg' %}" class="d-block w-100 carousel-image" alt="Special Offers Banner">
            <div class="carousel-caption d-none d-md-block">
                <div class="caption-content">
                    <h1 class="display-4 fw-bold text-white mb-3 animate-fade-in">Special Offers</h1>
                    <p class="lead text-white mb-4 opacity-90">Up to 30% off on your favorite dairy essentials. Limited time only!</p>
                    <a href="#products" class="btn btn-warning btn-lg px-4 py-2">Grab Deals</a>
                </div>
            </div>
        </div>
        <!-- Slide 4 -->
        <div class="carousel-item">
            <img src="{% static 'app/images/banner/b4.jpg' %}" class="d-block w-100 carousel-image" alt="Sustainable Farming Banner">
            <div class="carousel-caption d-none d-md-block">
                <div class="caption-content">
                    <h1 class="display-4 fw-bold text-white mb-3 animate-fade-in">Sustainable Farming</h1>
                    <p class="lead text-white mb-4 opacity-90">Committed to eco-friendly practices for a greener Bangladesh.</p>
                    <a href="#about" class="btn btn-outline-light btn-lg px-4 py-2">Learn More</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Carousel Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<style>
/* Professional Daraz-like Slider Styles */
.carousel {
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.carousel-image {
    height: 500px;
    object-fit: cover;
    filter: brightness(0.7); /* Darken image slightly for better text readability */
}

.carousel-caption {
    bottom: 20%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 10;
}

.caption-content {
    background: rgba(0, 0, 0, 0.4);
    padding: 30px;
    border-radius: 15px;
    backdrop-filter: blur(10px);
    max-width: 600px;
}

.animate-fade-in {
    animation: fadeInUp 1s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.carousel-indicators {
    bottom: 10px;
}

.carousel-indicators [data-bs-target] {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    border: none;
    transition: all 0.3s ease;
}

.carousel-indicators .active {
    background-color: #007bff;
    transform: scale(1.2);
}

.carousel-control-prev,
.carousel-control-next {
    width: 5%;
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.carousel-control-prev:hover,
.carousel-control-next:hover {
    opacity: 1;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
    background-size: 20px;
    background-position: center;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(5px);
}

/* Pause on hover for better user experience */
.carousel:hover .carousel-control-prev,
.carousel:hover .carousel-control-next {
    opacity: 1;
}

/* Smooth slide transition (left to right) */
.carousel-item {
    transition: transform 1s ease-in-out;
}
</style>
{% endblock banner-slider %}

{% block main-content %}
<!-- Products Section -->
<div class="container my-5" id="products">
    <h2 class="text-center mb-5 fw-bold text-primary">Our Products</h2>
    <div class="row g-4">
        {% for product in products %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div class="card h-100 shadow-sm hover-shadow">
                <img src="{{ product.product_image.url }}" class="card-img-top p-3" alt="{{ product.title }}" style="height:200px; object-fit:contain;">
                <img src="{{ product.image.url }}" alt="{{ product.title }}" class="img-fluid">
                <div class="card-body text-center">
                    <h5 class="card-title fw-bold">{{ product.title }}</h5>
                    <p class="text-success fw-semibold mb-2">${{ product.discounted_price }}</p>
                    <a href="{% url 'product_detail' product.id %}" class="btn btn-sm btn-primary mt-2">View Details</a>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-center text-muted">No products available.</p>
        {% endfor %}
    </div>
</div>

<style>
.hover-shadow:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    transition: 0.3s ease-in-out;
}
</style>

<!-- About Section -->
<div class="container my-5" id="about">
    <div class="about-hero text-center">
        <h1 class="display-4 fw-bold mb-3">About Us</h1>
        <p class="lead mb-0">Discover our commitment to quality dairy products and sustainable farming in Bangladesh.</p>
    </div>
    <div class="row g-5 align-items-center">
        <div class="col-lg-6">
            <img src="{% static 'app/images/about.png' %}" class="about-image w-100" alt="About Image">
        </div>
        <div class="col-lg-6">
            <div class="about-card p-4">
                <h3 class="fw-bold text-primary mb-4">Our Story</h3>
                <p class="lead mb-4 text-muted">Established with a passion for fresh, farm-to-table dairy, we bring the finest products directly to your doorstep.</p>
                <div class="accordion" id="aboutAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#mission">
                                Our Mission
                            </button>
                        </h2>
                        <div id="mission" class="accordion-collapse collapse show" data-bs-parent="#aboutAccordion">
                            <div class="accordion-body">We provide fresh, high-quality dairy products for every family.</div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#vision">
                                Our Vision
                            </button>
                        </h2>
                        <div id="vision" class="accordion-collapse collapse" data-bs-parent="#aboutAccordion">
                            <div class="accordion-body">To become the leading dairy supplier in Bangladesh, known for quality and sustainability.</div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#values">
                                Our Values
                            </button>
                        </h2>
                        <div id="values" class="accordion-collapse collapse" data-bs-parent="#aboutAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Quality and Freshness</li>
                                    <li>Customer Satisfaction</li>
                                    <li>Transparency and Trust</li>
                                    <li>Innovation and Sustainability</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contact Section -->
<div class="container my-5" id="contact">
    <div class="text-center mb-5">
        <h2 class="fw-bold text-primary">Contact Us</h2>
        <p class="text-muted lead">Have questions? Send us a message.</p>
    </div>
    <div class="row g-5">
        <div class="col-lg-6">
            <div class="contact-card p-4">
                <form method="POST" action="{% url 'contact' %}">
                    {% csrf_token %}
                    <input type="text" class="form-control mb-3" name="name" placeholder="Your Name" required>
                    <input type="email" class="form-control mb-3" name="email" placeholder="Your Email" required>
                    <input type="text" class="form-control mb-3" name="subject" placeholder="Subject" required>
                    <textarea class="form-control mb-3" name="message" rows="5" placeholder="Message" required></textarea>
                    <button type="submit" class="btn btn-success w-100">Send Message</button>
                </form>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="contact-card p-4">
                <h5>Get in Touch</h5>
                <p>Email: <a href="mailto:sharatacharjee6@gmail.com">sharatacharjee6@gmail.com</a></p>
                <p>Phone: +8801783720914</p>
                <p>Address:  Dhaka, Bangladesh</p>
            </div>
        </div>
    </div>
</div>
{% endblock main-content %}